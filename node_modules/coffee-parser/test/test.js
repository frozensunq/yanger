var Y = require('../lib/yang-parser')
var fs = require('fs');

fs.readFile('./ietf-interfaces@2014-05-08.yang', function (err, data)
{
	if (err)
		return console.log(err)

	var yam = data.toString()

	try
	{
		console.log(JSON.stringify(Y.parse(yam), null, " "));
	}
	catch (_error)
	{
		console.log(_error)
		e = _error;
		if (e.name === "ParsingError")
		{
			console.log("Offset", e.offset, "(line", e.coords[0] + ",", "column", e.coords[1] + "):", e.message);
		}
		else
		{
			throw e;
		}
	}
});

